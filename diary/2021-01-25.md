1. **CMD:** `*/1 * * * * PATH="$PATH:/usr/sbin" bash -c 'grep "authentication failure" /var/log/secure| grep -o "[0-9]\{1,3\}\.[0-9]\{1,3\}\.[0-9]\{1,3\}\.[0-9]\{1,3\}" | sort | uniq -c | sort -nr | awk "{if (\$1 > 2) print \$2 }" | xargs -I VV sh -c "ipset test -q blacklist VV || ipset add blacklist VV"'`  :shell:sort:uniq:
	* `PATH="$PATH:/usr/sbin"`: crontab的env可能只有部分,所以需要先设置env.或者`source .ENVFILE`.
	* `... bash -c ..."`: env 后边不能有`;`或者pipe `|`, 所以需要 通过bash -c 去执行. `bash -c "CDM_STRING"` 执行字符串命令.
	* `grep -o "PATTERN"` 提取出匹配的字段.
	* `awk ... \$1..\$2`: 因为在bash -c string里所以需要escape一下,否则会被bash -c 转义.
	* `xargs -I`: 见[xargs](../bash.md#xargs).
	* `sort [-nr]`
	* `uniq -c`
2. `env - X=1 `: `-` 清空当前env, `X=1`设置新的环境变量. :env:  
